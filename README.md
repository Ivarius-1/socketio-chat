# Логика чат-приложения на Socket.IO

# Обзор
Простая демонстрация чата с использованием Socket.IO, позволяющая нескольким пользователям присоединяться, отправлять сообщения и получать уведомления в реальном времени.
Настройка

Установите зависимости: $ npm i
Запустите сервер: $ npm start
Доступ через браузер: http://localhost:3000.

# Возможности

Пользователи присоединяются с уникальными именами при загрузке страницы.
Реальное время для отправки сообщений и уведомлений о наборе текста.
Уведомления о присоединении и выходе пользователей.

# Логика работы
Загрузка страницы и вход пользователя

Пользователь вводит имя.
Вызывается setUsername, устанавливается WebSocket-соединение.
Вызывается событие add user:
Сохраняет имя в сессии сокета.
Увеличивает numUsers.
Отправляет login пользователю с текущим количеством numUsers.
Транслирует user joined всем клиентам с именем и количеством numUsers.



# Обработка сообщений

### Набор текста:
Пользователь печатает: отправляется updateTyping.
Если сообщение не отправлено, отправляется typing; сервер транслирует typing с именем пользователя.
Пользователь прекращает печатать: отправляется stop typing; сервер транслирует stop typing, убирая статус "печатает".


### Отправка сообщений:
Пользователь нажимает Enter: отправляется sendMessage.
Сервер получает и транслирует new message всем клиентам.
Клиенты отображают сообщение в списке чата.



# Отключение и повторное подключение

### Отключение:
При закрытии вкладки или потере соединения сервер фиксирует disconnect.
Уменьшает numUsers.
Транслирует user left с именем; клиенты обновляют количество участников.


### Повторное подключение:
При успешном reconnect отправляется add user, если имя существует.


### Ошибка повторного подключения:
Показывает сообщение "попытка переподключения не удалась".



# Ключевые события

Connection: Срабатывает при подключении нового клиента; транслирует user connected с информацией о пользователе и общим количеством.
Disconnect: Логирует "вы были отключены".
New Message: Добавляет сообщение в чат через addChatMessage(data).
User Joined/Left: Обновляет список участников через addParticipantsMessage(data).
Typing/Stop Typing: Переключает статус "печатает" через addChatTyping(data) и removeChatTyping(data).

# Отладка

Просмотр событий WebSocket в браузере:
Вкладка Network: WS-соединение с сервером.
Вкладка Messages: События клиента (add user, new message, typing, stop typing); события сервера (login, user joined, user left и т.д.).


